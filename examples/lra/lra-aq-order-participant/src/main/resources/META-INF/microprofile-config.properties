#
# Copyright (c) 2021 Oracle and/or its affiliates. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# Microprofile server properties
server.port=8097
server.host=0.0.0.0
lra.coordinator.url=http://localhost:8080
lra.participant.url=http://inventory.msdataworkshop:8080

######### AQ #########

# The orderpdb is use both for the orderservice and the coordinator which are collocated in the orderpdb for this example.
# This datasource is here only for admin/setup of propagation.
javax.sql.DataSource.orderpdb.connectionFactoryClassName=oracle.jdbc.pool.OracleDataSource
javax.sql.DataSource.orderpdb.URL=jdbc:oracle:thin:@orderdb_tp?TNS_ADMIN=/Users/pparkins/Downloads/Wallet_ORDERDB
javax.sql.DataSource.orderpdb.user=orderuser
javax.sql.DataSource.orderpdb.password=Welcome12345

# The inventorypdb is for the inventory participant.
javax.sql.DataSource.inventorypdb.connectionFactoryClassName=oracle.jdbc.pool.OracleDataSource
javax.sql.DataSource.inventorypdb.URL=jdbc:oracle:thin:@inventorydb_tp?TNS_ADMIN=/Users/pparkins/Downloads/Wallet_ORDERDB
javax.sql.DataSource.inventorypdb.user=inventoryuser
javax.sql.DataSource.inventorypdb.password=Welcome12345

mp.messaging.connector.helidon-aq.acknowledge-mode=CLIENT_ACKNOWLEDGE
mp.messaging.connector.helidon-aq.data-source=orderpdb

# When multiple channels share same session-group-id, they share same JMS session.
# For example session-group-id=travelagency-session-group


# THIS EXAMPLE USES 2 QUEUES: LRATESTQUEUE FOR APPLICATION COMMUNICATION AND HELIDONLRAQUEUE for LRA PROTOCOL/TERMINATION COMMUNICATION

mp.messaging.incoming.order-requiresnew.connector=helidon-aq
mp.messaging.incoming.order-requiresnew.destination=LRATESTQUEUE
mp.messaging.incoming.order-requiresnew.type=queue
#mp.messaging.incoming.order-requiresnew.message-selector=LRAType = 'REQUIRESNEW'

mp.messaging.incoming.order-required.connector=helidon-aq
mp.messaging.incoming.order-required.destination=LRATESTQUEUE
mp.messaging.incoming.order-required.type=queue
mp.messaging.incoming.order-required.message-selector=LRAType = 'REQUIRED'

mp.messaging.outgoing.inventory.connector=helidon-aq
mp.messaging.outgoing.inventory.destination=LRATESTQUEUE
mp.messaging.outgoing.inventory.type=queue




mp.messaging.incoming.completechannel.connector=helidon-aq
mp.messaging.incoming.completechannel.destination=HELIDONLRAQUEUE
mp.messaging.incoming.completechannel.type=queue
mp.messaging.incoming.completechannel.message-selector=HELIDONLRAOPERATION = 'COMPLETESEND'

mp.messaging.outgoing.completereplychannel.connector=helidon-aq
mp.messaging.outgoing.completereplychannel.destination=HELIDONLRAQUEUE
mp.messaging.outgoing.completereplychannel.type=queue

mp.messaging.incoming.compensatechannel.connector=helidon-aq
mp.messaging.incoming.compensatechannel.destination=HELIDONLRAQUEUE
mp.messaging.incoming.compensatechannel.type=queue
mp.messaging.incoming.compensatechannel.message-selector=HELIDONLRAOPERATION = 'COMPENSATESEND'

mp.messaging.outgoing.compensatereplychannel.connector=helidon-aq
mp.messaging.outgoing.compensatereplychannel.destination=HELIDONLRAQUEUE
mp.messaging.outgoing.compensatereplychannel.type=queue

mp.messaging.incoming.afterlrachannel.connector=helidon-aq
mp.messaging.incoming.afterlrachannel.destination=HELIDONLRAQUEUE
mp.messaging.incoming.afterlrachannel.type=queue
mp.messaging.incoming.afterlrachannel.message-selector=HELIDONLRAOPERATION = 'AFTERLRASEND'

mp.messaging.outgoing.afterlrareplychannel.connector=helidon-aq
mp.messaging.outgoing.afterlrareplychannel.destination=HELIDONLRAQUEUE
mp.messaging.outgoing.afterlrareplychannel.type=queue

mp.messaging.incoming.forgetchannel.connector=helidon-aq
mp.messaging.incoming.forgetchannel.destination=HELIDONLRAQUEUE
mp.messaging.incoming.forgetchannel.type=queue
mp.messaging.incoming.forgetchannel.message-selector=HELIDONLRAOPERATION = 'FORGETSEND'

mp.messaging.outgoing.forgetreplychannel.connector=helidon-aq
mp.messaging.outgoing.forgetreplychannel.destination=HELIDONLRAQUEUE
mp.messaging.outgoing.forgetreplychannel.type=queue

mp.messaging.incoming.leavechannel.connector=helidon-aq
mp.messaging.incoming.leavechannel.destination=HELIDONLRAQUEUE
mp.messaging.incoming.leavechannel.type=queue
mp.messaging.incoming.leavechannel.message-selector=HELIDONLRAOPERATION = 'LEAVESEND'

mp.messaging.outgoing.leavereplychannel.connector=helidon-aq
mp.messaging.outgoing.leavereplychannel.destination=HELIDONLRAQUEUE
mp.messaging.outgoing.leavereplychannel.type=queue
